---
import { Icon } from 'astro-icon/components';
import { socialLinks, type SocialLink } from '@config/social';

interface Props {
  links?: SocialLink[];
  variant?: 'light' | 'dark';
  showLabels?: boolean;
  class?: string;
}

const {
  links = ['github', 'linkedin', 'twitter', 'email'],
  variant = 'light',
  showLabels = false,
  class: className = '',
} = Astro.props;

const baseClass = variant === 'dark' ? 'text-gray-300' : 'text-gray-600';
const hoverClass = variant === 'dark' ? 'hover:text-white' : 'hover:text-gray-900';
const gapClass = showLabels ? 'flex-col gap-3' : 'gap-6';
---

<div class={`flex ${gapClass} ${className}`}>
  {
    links.map((key) => {
      const link = socialLinks[key];
      return (
        <a
          href={link.url}
          class={`inline-flex items-center gap-2 ${baseClass} transition-colors ${hoverClass}`}
          target={link.url.startsWith('http') ? '_blank' : undefined}
          rel={link.url.startsWith('http') ? 'noopener noreferrer' : undefined}
          aria-label={link.label}
        >
          <Icon name={link.icon} class="h-6 w-6" aria-hidden="true" />
          {showLabels && <span>{link.label}</span>}
        </a>
      );
    })
  }
</div>
